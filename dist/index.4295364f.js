var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire46c0;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequire46c0=a);var r=a("4Bu0d"),c=a("1tHc5"),o=a("etBjH");var d=a("6naOk"),i=a("aDR0T");const s=document.getElementById("bakery"),l=document.getElementById("category"),u=document.getElementById("order"),p=(document.getElementById("veganism"),document.getElementById("sugars"),document.getElementById("customeBtn"));let g,m=[],f=[];async function b(){const e=await async function(e){const t=o.collection(e,"products");try{const{docs:e}=await o.getDocs(t);return e.map((e=>(console.log(e),{...e.data(),id:e.id})))}catch(e){console.log(e)}}(r.db);s.innerHTML="",e.forEach((e=>{h(e)})),m=e}function h(e){const t=document.createElement("a");t.className="product",t.setAttribute("href",`./product.html?id=${e.id}`);const n=e.img.length?e.img[0]:"https://cdn.dribbble.com/users/55871/screenshots/2158022/media/95f08ed3812af28b93fa534fb5d277b3.jpg",a=f.some((t=>t.id===e.id))?'<button class="product_cart" disabled>Producto añadido</button >':'<button class="product_cart">Añadir al carrito</button>';t.innerHTML=`\n    \n        <div class="dessert"> \n            <img src="${n}" alt="" class="dessert__img">\n            <h3 class="dessert__caption">${e.name}</h3>\n            <p class="dessert__description">${i.currencyFormat(e.price)} ${e.description}</p>\n            ${a}\n        </div>`,s.appendChild(t);const c=t.querySelector(".product_cart");c.addEventListener("click",(async t=>{t.preventDefault(),f.push(e),i.addProductToCart(f),g&&await d.createFirebaseCart(r.db,g.uid,f),c.setAttribute("disabled",!0),c.innerText="Producto añadido"}))}function y(){const e=l.value,t=u.value;let n=[];n=""!==e?m.filter((t=>t.category===e)):m,"asc"===t&&(n=n.sort(((e,t)=>t.price-e.price))),"desc"===t&&(n=n.sort(((e,t)=>e.price-t.price))),s.innerHTML="",n.forEach((e=>{h(e)}))}l.addEventListener("change",(e=>{y()})),u.addEventListener("change",(e=>{y()})),c.onAuthStateChanged(r.auth,(async e=>{e?(g=e,f=await d.getFirebaseCart(r.db,g.uid)):f=i.getMyLocalCart(),b()})),p.addEventListener("click",(e=>{window.location.href="https://linaperalta.github.io/pascakeP5/index.html"}));
//# sourceMappingURL=index.4295364f.js.map
