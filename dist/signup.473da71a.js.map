{"mappings":"oeACA,IAAAA,EAAAC,EAAA,mCAMA,MAAMC,EAAiBC,SAASC,eAAe,cAE/CF,EAAeG,iBAAiB,UAAUC,MAAOC,IAC7CA,EAAEC,iBAEF,MAKMC,EAAW,MALJP,EAAeQ,KAAKC,eAChBT,EAAeU,SAASD,YAC3BT,EAAeW,MAAMF,eAClBT,EAAeY,SAASH,YAC3BT,EAAea,MAAMJ,OAG7BK,QAKVV,eAA0BO,EAAOC,GAC7B,IACI,MA1BRG,KA0BgBA,SAAeC,EAAAC,+BAA+BnB,EAAAoB,KAAMP,EAAOC,GAEnE,OAAOG,EAET,MAAOV,GAEU,uBAAXA,EAAEc,MACFC,MAAM,kDAGK,8BAAXf,EAAEc,MACFC,MAAM,uCAlBQC,CAAWd,EAASI,MAAOJ,EAASK,gBAuB9DR,eAAiCkB,EAAQf,EAAW,IAChD,UACUgB,EAAAC,OAAOD,EAAAE,IAAI3B,EAAA4B,GAAI,QAASJ,GAASf,GACvCoB,OAAOC,SAASC,KAAO,eACzB,MAAOxB,GACLyB,QAAQC,IAAI1B,IA3BV2B,CAAkBlB,EAAQmB,IAAK1B","sources":["src/signup.js"],"sourcesContent":["\nimport {auth,db} from \"./functions/app\";\nimport {createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { doc,setDoc } from \"firebase/firestore\";\n\n\n// Initialize Firebase\nconst createUserForm = document.getElementById(\"singUpForm\");\n\ncreateUserForm.addEventListener(\"submit\", async (e) => {\n    e.preventDefault();\n\n    const name = createUserForm.name.value;\n    const lastName = createUserForm.lastname.value;\n    const email = createUserForm.email.value;\n    const password = createUserForm.password.value;\n    const admin = createUserForm.admin.value;\n    const userInfo = {name,lastName,email,password,admin};\n\n    const newUser = await createUser(userInfo.email, userInfo.password);\n    await addUserToDatabase(newUser.uid, userInfo);\n\n});\n\nasync function createUser(email, password) {\n    try {\n        const { user } = await createUserWithEmailAndPassword(auth, email, password);\n        //alert(`Bienvenido, usuario ${user.email}`);\n        return user;\n        \n    } catch (e) {\n\n        if (e.code === \"auth/weak-password\") {\n            alert(\"Tu contrase√±a debe tener al menos 6 caracteres\");\n        }\n\n        if (e.code === \"auth/email-already-in-use\") {\n            alert(\"Este correo ya se encuentra en uso\");\n        }\n    }\n}\n\nasync function addUserToDatabase(userId, userInfo = {}) {\n    try {\n        await setDoc(doc(db, \"users\", userId), userInfo);\n        window.location.href = \"./login.html\";\n    } catch (e) {\n        console.log(e);\n    }\n}\n"],"names":["$4Bu0d","parcelRequire","$a2fd26ac91ec413e$var$createUserForm","document","getElementById","addEventListener","async","e","preventDefault","userInfo","name","value","lastname","email","password","admin","newUser","user","$1tHc5","createUserWithEmailAndPassword","auth","code","alert","$a2fd26ac91ec413e$var$createUser","userId","$etBjH","setDoc","doc","db","window","location","href","console","log","$a2fd26ac91ec413e$var$addUserToDatabase","uid"],"version":3,"file":"signup.473da71a.js.map"}